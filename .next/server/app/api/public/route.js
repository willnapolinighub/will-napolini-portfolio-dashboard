/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/public/route";
exports.ids = ["app/api/public/route"];
exports.modules = {

/***/ "(rsc)/./app/api/public/route.ts":
/*!*********************************!*\
  !*** ./app/api/public/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_tenant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/tenant */ \"(rsc)/./lib/tenant.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\n\n/**\n * Public API — consumed by external frontend apps.\n * Requires API key via Authorization header or X-Api-Key header.\n *\n * GET /api/public?resource=posts[&category=Mindset&limit=20&offset=0]\n * GET /api/public?resource=post&id=uuid\n * GET /api/public?resource=post&slug=my-post-slug\n * GET /api/public?resource=products[&category=Mindset]\n * GET /api/public?resource=product&id=uuid\n * GET /api/public?resource=settings\n */ async function GET(request) {\n    const authHeader = request.headers.get('Authorization') || request.headers.get('X-Api-Key');\n    const { valid, tenant } = (0,_lib_tenant__WEBPACK_IMPORTED_MODULE_1__.validateApiKey)(authHeader);\n    if (!valid || !tenant) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized. Provide a valid API key via Authorization or X-Api-Key header.'\n        }, {\n            status: 401\n        });\n    }\n    const params = request.nextUrl.searchParams;\n    const resource = params.get('resource') || 'posts';\n    try {\n        let data = null;\n        switch(resource){\n            case 'posts':\n                data = await fetchPosts(params);\n                break;\n            case 'post':\n                data = await fetchPost(params);\n                break;\n            case 'products':\n                data = await fetchProducts(params);\n                break;\n            case 'product':\n                data = await fetchProduct(params);\n                break;\n            case 'settings':\n                data = await fetchSettings();\n                break;\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: `Unknown resource: ${resource}`\n                }, {\n                    status: 404\n                });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            tenant: tenant.slug,\n            data\n        });\n    } catch (error) {\n        console.error(`[Public API] ${resource} error:`, error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to fetch data'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function OPTIONS() {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 204\n    });\n}\n// ── Fetch helpers ──────────────────────────────────────────────\nasync function fetchPosts(params) {\n    const client = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getNamedAdminClient)('posts');\n    const category = params.get('category');\n    const limit = Math.min(parseInt(params.get('limit') || '20'), 100);\n    const offset = parseInt(params.get('offset') || '0');\n    let query = client.from('posts').select('id, title, slug, description, image, category, created_at, read_time, views').eq('published', true).order('created_at', {\n        ascending: false\n    }).range(offset, offset + limit - 1);\n    if (category) query = query.eq('category', category);\n    const { data, error } = await query;\n    if (error) throw error;\n    return data;\n}\nasync function fetchPost(params) {\n    const client = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getNamedAdminClient)('posts');\n    const id = params.get('id');\n    const slug = params.get('slug');\n    if (!id && !slug) throw new Error('Provide id or slug parameter');\n    let query = client.from('posts').select('*').eq('published', true);\n    if (id) query = query.eq('id', id);\n    else if (slug) query = query.eq('slug', slug);\n    const { data, error } = await query.single();\n    if (error) throw error;\n    // Increment view count asynchronously (fire-and-forget)\n    if (data?.id) {\n        void Promise.resolve(client.rpc('increment_post_views', {\n            post_id: data.id\n        }));\n    }\n    return data;\n}\nasync function fetchProducts(params) {\n    const client = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getNamedAdminClient)('products');\n    const category = params.get('category');\n    let query = client.from('products').select('id, title, description, image, category, price, original_price, sort_order').eq('active', true).order('sort_order', {\n        ascending: true\n    });\n    if (category) query = query.eq('category', category);\n    const { data, error } = await query;\n    if (error) throw error;\n    return data;\n}\nasync function fetchProduct(params) {\n    const client = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getNamedAdminClient)('products');\n    const id = params.get('id');\n    if (!id) throw new Error('Provide id parameter');\n    const { data, error } = await client.from('products').select('*').eq('id', id).eq('active', true).single();\n    if (error) throw error;\n    return data;\n}\nasync function fetchSettings() {\n    const client = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getAdminClient)();\n    const { data, error } = await client.from('settings').select('key, value');\n    if (error) throw error;\n    const settings = {};\n    data?.forEach((item)=>{\n        settings[item.key] = item.value;\n    });\n    return settings;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxHQUFHLE1BQU1nQixPQUMzQlEsSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsTUFBTUksSUFDVEosRUFBRSxDQUFDLFVBQVUsTUFDYk0sTUFBTTtJQUVULElBQUloQyxPQUFPLE1BQU1BO0lBQ2pCLE9BQU9NO0FBQ1Q7QUFFQSxlQUFlSztJQUNiLE1BQU1LLFNBQVN6Qiw2REFBY0E7SUFDN0IsTUFBTSxFQUFFZSxJQUFJLEVBQUVOLEtBQUssRUFBRSxHQUFHLE1BQU1nQixPQUFPUSxJQUFJLENBQUMsWUFBWUMsTUFBTSxDQUFDO0lBQzdELElBQUl6QixPQUFPLE1BQU1BO0lBRWpCLE1BQU1xQyxXQUFvQyxDQUFDO0lBQzNDL0IsTUFBTWdDLFFBQVEsQ0FBQ0M7UUFBNENGLFFBQVEsQ0FBQ0UsS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUtFLEtBQUs7SUFBRTtJQUM1RixPQUFPSjtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvd2lsbC9Eb3dubG9hZHMvbXlzaG9wLmdpdGh1Yi5pby9hcHBzL2FkbWluL2FwcC9hcGkvcHVibGljL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB2YWxpZGF0ZUFwaUtleSB9IGZyb20gJ0AvbGliL3RlbmFudCc7XG5pbXBvcnQgeyBnZXROYW1lZEFkbWluQ2xpZW50LCBnZXRBZG1pbkNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcbi8qKlxuICogUHVibGljIEFQSSDigJQgY29uc3VtZWQgYnkgZXh0ZXJuYWwgZnJvbnRlbmQgYXBwcy5cbiAqIFJlcXVpcmVzIEFQSSBrZXkgdmlhIEF1dGhvcml6YXRpb24gaGVhZGVyIG9yIFgtQXBpLUtleSBoZWFkZXIuXG4gKlxuICogR0VUIC9hcGkvcHVibGljP3Jlc291cmNlPXBvc3RzWyZjYXRlZ29yeT1NaW5kc2V0JmxpbWl0PTIwJm9mZnNldD0wXVxuICogR0VUIC9hcGkvcHVibGljP3Jlc291cmNlPXBvc3QmaWQ9dXVpZFxuICogR0VUIC9hcGkvcHVibGljP3Jlc291cmNlPXBvc3Qmc2x1Zz1teS1wb3N0LXNsdWdcbiAqIEdFVCAvYXBpL3B1YmxpYz9yZXNvdXJjZT1wcm9kdWN0c1smY2F0ZWdvcnk9TWluZHNldF1cbiAqIEdFVCAvYXBpL3B1YmxpYz9yZXNvdXJjZT1wcm9kdWN0JmlkPXV1aWRcbiAqIEdFVCAvYXBpL3B1YmxpYz9yZXNvdXJjZT1zZXR0aW5nc1xuICovXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgYXV0aEhlYWRlciA9XG4gICAgcmVxdWVzdC5oZWFkZXJzLmdldCgnQXV0aG9yaXphdGlvbicpIHx8IHJlcXVlc3QuaGVhZGVycy5nZXQoJ1gtQXBpLUtleScpO1xuICBjb25zdCB7IHZhbGlkLCB0ZW5hbnQgfSA9IHZhbGlkYXRlQXBpS2V5KGF1dGhIZWFkZXIpO1xuXG4gIGlmICghdmFsaWQgfHwgIXRlbmFudCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQuIFByb3ZpZGUgYSB2YWxpZCBBUEkga2V5IHZpYSBBdXRob3JpemF0aW9uIG9yIFgtQXBpLUtleSBoZWFkZXIuJyB9LFxuICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHBhcmFtcyA9IHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXM7XG4gIGNvbnN0IHJlc291cmNlID0gcGFyYW1zLmdldCgncmVzb3VyY2UnKSB8fCAncG9zdHMnO1xuXG4gIHRyeSB7XG4gICAgbGV0IGRhdGE6IHVua25vd24gPSBudWxsO1xuXG4gICAgc3dpdGNoIChyZXNvdXJjZSkge1xuICAgICAgY2FzZSAncG9zdHMnOlxuICAgICAgICBkYXRhID0gYXdhaXQgZmV0Y2hQb3N0cyhwYXJhbXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Bvc3QnOlxuICAgICAgICBkYXRhID0gYXdhaXQgZmV0Y2hQb3N0KHBhcmFtcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncHJvZHVjdHMnOlxuICAgICAgICBkYXRhID0gYXdhaXQgZmV0Y2hQcm9kdWN0cyhwYXJhbXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Byb2R1Y3QnOlxuICAgICAgICBkYXRhID0gYXdhaXQgZmV0Y2hQcm9kdWN0KHBhcmFtcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2V0dGluZ3MnOlxuICAgICAgICBkYXRhID0gYXdhaXQgZmV0Y2hTZXR0aW5ncygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBgVW5rbm93biByZXNvdXJjZTogJHtyZXNvdXJjZX1gIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdGVuYW50OiB0ZW5hbnQuc2x1ZywgZGF0YSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBbUHVibGljIEFQSV0gJHtyZXNvdXJjZX0gZXJyb3I6YCwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGRhdGEnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE9QVElPTlMoKSB7XG4gIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzOiAyMDQgfSk7XG59XG5cbi8vIOKUgOKUgCBGZXRjaCBoZWxwZXJzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFBvc3RzKHBhcmFtczogVVJMU2VhcmNoUGFyYW1zKSB7XG4gIGNvbnN0IGNsaWVudCA9IGdldE5hbWVkQWRtaW5DbGllbnQoJ3Bvc3RzJyk7XG4gIGNvbnN0IGNhdGVnb3J5ID0gcGFyYW1zLmdldCgnY2F0ZWdvcnknKTtcbiAgY29uc3QgbGltaXQgPSBNYXRoLm1pbihwYXJzZUludChwYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcyMCcpLCAxMDApO1xuICBjb25zdCBvZmZzZXQgPSBwYXJzZUludChwYXJhbXMuZ2V0KCdvZmZzZXQnKSB8fCAnMCcpO1xuXG4gIGxldCBxdWVyeSA9IGNsaWVudFxuICAgIC5mcm9tKCdwb3N0cycpXG4gICAgLnNlbGVjdCgnaWQsIHRpdGxlLCBzbHVnLCBkZXNjcmlwdGlvbiwgaW1hZ2UsIGNhdGVnb3J5LCBjcmVhdGVkX2F0LCByZWFkX3RpbWUsIHZpZXdzJylcbiAgICAuZXEoJ3B1Ymxpc2hlZCcsIHRydWUpXG4gICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgLnJhbmdlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQgLSAxKTtcblxuICBpZiAoY2F0ZWdvcnkpIHF1ZXJ5ID0gcXVlcnkuZXEoJ2NhdGVnb3J5JywgY2F0ZWdvcnkpO1xuXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICByZXR1cm4gZGF0YTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hQb3N0KHBhcmFtczogVVJMU2VhcmNoUGFyYW1zKSB7XG4gIGNvbnN0IGNsaWVudCA9IGdldE5hbWVkQWRtaW5DbGllbnQoJ3Bvc3RzJyk7XG4gIGNvbnN0IGlkID0gcGFyYW1zLmdldCgnaWQnKTtcbiAgY29uc3Qgc2x1ZyA9IHBhcmFtcy5nZXQoJ3NsdWcnKTtcblxuICBpZiAoIWlkICYmICFzbHVnKSB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGUgaWQgb3Igc2x1ZyBwYXJhbWV0ZXInKTtcblxuICBsZXQgcXVlcnkgPSBjbGllbnQuZnJvbSgncG9zdHMnKS5zZWxlY3QoJyonKS5lcSgncHVibGlzaGVkJywgdHJ1ZSk7XG4gIGlmIChpZCkgcXVlcnkgPSBxdWVyeS5lcSgnaWQnLCBpZCk7XG4gIGVsc2UgaWYgKHNsdWcpIHF1ZXJ5ID0gcXVlcnkuZXEoJ3NsdWcnLCBzbHVnKTtcblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeS5zaW5nbGUoKTtcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAvLyBJbmNyZW1lbnQgdmlldyBjb3VudCBhc3luY2hyb25vdXNseSAoZmlyZS1hbmQtZm9yZ2V0KVxuICBpZiAoZGF0YT8uaWQpIHtcbiAgICB2b2lkIFByb21pc2UucmVzb2x2ZShjbGllbnQucnBjKCdpbmNyZW1lbnRfcG9zdF92aWV3cycsIHsgcG9zdF9pZDogZGF0YS5pZCB9KSk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hQcm9kdWN0cyhwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcykge1xuICBjb25zdCBjbGllbnQgPSBnZXROYW1lZEFkbWluQ2xpZW50KCdwcm9kdWN0cycpO1xuICBjb25zdCBjYXRlZ29yeSA9IHBhcmFtcy5nZXQoJ2NhdGVnb3J5Jyk7XG5cbiAgbGV0IHF1ZXJ5ID0gY2xpZW50XG4gICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAuc2VsZWN0KCdpZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBpbWFnZSwgY2F0ZWdvcnksIHByaWNlLCBvcmlnaW5hbF9wcmljZSwgc29ydF9vcmRlcicpXG4gICAgLmVxKCdhY3RpdmUnLCB0cnVlKVxuICAgIC5vcmRlcignc29ydF9vcmRlcicsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gIGlmIChjYXRlZ29yeSkgcXVlcnkgPSBxdWVyeS5lcSgnY2F0ZWdvcnknLCBjYXRlZ29yeSk7XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnk7XG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gIHJldHVybiBkYXRhO1xufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFByb2R1Y3QocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgY29uc3QgY2xpZW50ID0gZ2V0TmFtZWRBZG1pbkNsaWVudCgncHJvZHVjdHMnKTtcbiAgY29uc3QgaWQgPSBwYXJhbXMuZ2V0KCdpZCcpO1xuICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGUgaWQgcGFyYW1ldGVyJyk7XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAuZXEoJ2lkJywgaWQpXG4gICAgLmVxKCdhY3RpdmUnLCB0cnVlKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICByZXR1cm4gZGF0YTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hTZXR0aW5ncygpIHtcbiAgY29uc3QgY2xpZW50ID0gZ2V0QWRtaW5DbGllbnQoKTtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50LmZyb20oJ3NldHRpbmdzJykuc2VsZWN0KCdrZXksIHZhbHVlJyk7XG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgY29uc3Qgc2V0dGluZ3M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG4gIGRhdGE/LmZvckVhY2goKGl0ZW06IHsga2V5OiBzdHJpbmc7IHZhbHVlOiB1bmtub3duIH0pID0+IHsgc2V0dGluZ3NbaXRlbS5rZXldID0gaXRlbS52YWx1ZTsgfSk7XG4gIHJldHVybiBzZXR0aW5ncztcbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ2YWxpZGF0ZUFwaUtleSIsImdldE5hbWVkQWRtaW5DbGllbnQiLCJnZXRBZG1pbkNsaWVudCIsIkdFVCIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInZhbGlkIiwidGVuYW50IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwicGFyYW1zIiwibmV4dFVybCIsInNlYXJjaFBhcmFtcyIsInJlc291cmNlIiwiZGF0YSIsImZldGNoUG9zdHMiLCJmZXRjaFBvc3QiLCJmZXRjaFByb2R1Y3RzIiwiZmV0Y2hQcm9kdWN0IiwiZmV0Y2hTZXR0aW5ncyIsInN1Y2Nlc3MiLCJzbHVnIiwiY29uc29sZSIsIk9QVElPTlMiLCJjbGllbnQiLCJjYXRlZ29yeSIsImxpbWl0IiwiTWF0aCIsIm1pbiIsInBhcnNlSW50Iiwib2Zmc2V0IiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsInJhbmdlIiwiaWQiLCJFcnJvciIsInNpbmdsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicnBjIiwicG9zdF9pZCIsInNldHRpbmdzIiwiZm9yRWFjaCIsIml0ZW0iLCJrZXkiLCJ2YWx1ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/public/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdminClient: () => (/* binding */ getAdminClient),\n/* harmony export */   getNamedAdminClient: () => (/* binding */ getNamedAdminClient),\n/* harmony export */   getSupabaseClient: () => (/* binding */ getSupabaseClient),\n/* harmony export */   isSupabaseConfigured: () => (/* binding */ isSupabaseConfigured),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\n// ============================================\n// Public anon client — respects RLS\n// Safe for client components and public reads\n// ============================================\nlet _supabase = null;\nfunction getSupabaseClient() {\n    if (!_supabase) {\n        const url = \"https://hxeozpdcsewelrjsohxb.supabase.co\";\n        const key = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh4ZW96cGRjc2V3ZWxyanNvaHhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzMjg2MDQsImV4cCI6MjA4NjkwNDYwNH0.dRveW7GNaxYUJsSSusQ4VwHJUgHlZx92kFLVhbNiLWc\";\n        _supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, key);\n    }\n    return _supabase;\n}\nconst supabase = {\n    get auth () {\n        return getSupabaseClient().auth;\n    },\n    get from () {\n        return getSupabaseClient().from.bind(getSupabaseClient());\n    }\n};\n// ============================================\n// Main admin client — bypasses RLS (main DB)\n// ONLY use in API route handlers (server-side)\n// ============================================\nfunction getAdminClient() {\n    const url = \"https://hxeozpdcsewelrjsohxb.supabase.co\";\n    const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!serviceKey) {\n        console.warn('[Admin] SUPABASE_SERVICE_ROLE_KEY not set — falling back to anon key.');\n        return getSupabaseClient();\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, serviceKey, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n}\nconst ENV_MAP = {\n    posts: {\n        url: 'POSTS_SUPABASE_URL',\n        key: 'POSTS_SERVICE_ROLE_KEY'\n    },\n    products: {\n        url: 'PRODUCTS_SUPABASE_URL',\n        key: 'PRODUCTS_SERVICE_ROLE_KEY'\n    },\n    subscribers: {\n        url: 'SUBSCRIBERS_SUPABASE_URL',\n        key: 'SUBSCRIBERS_SERVICE_ROLE_KEY'\n    },\n    analytics: {\n        url: 'ANALYTICS_SUPABASE_URL',\n        key: 'ANALYTICS_SERVICE_ROLE_KEY'\n    }\n};\nfunction getNamedAdminClient(type) {\n    const { url: urlKey, key: roleKey } = ENV_MAP[type];\n    const url = process.env[urlKey];\n    const serviceKey = process.env[roleKey];\n    if (url && serviceKey) {\n        return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, serviceKey, {\n            auth: {\n                autoRefreshToken: false,\n                persistSession: false\n            }\n        });\n    }\n    // Fall back to the main admin client\n    return getAdminClient();\n}\nconst isSupabaseConfigured = !!( true && \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh4ZW96cGRjc2V3ZWxyanNvaHhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzMjg2MDQsImV4cCI6MjA4NjkwNDYwNH0.dRveW7GNaxYUJsSSusQ4VwHJUgHlZx92kFLVhbNiLWc\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFFO0FBRXJFLCtDQUErQztBQUMvQyxvQ0FBb0M7QUFDcEMsOENBQThDO0FBQzlDLCtDQUErQztBQUMvQyxJQUFJQyxZQUFtQztBQUVoQyxTQUFTQztJQUNkLElBQUksQ0FBQ0QsV0FBVztRQUNkLE1BQU1FLE1BQU1DLDBDQUFvQztRQUNoRCxNQUFNRyxNQUFNSCxrTkFBeUM7UUFDckRILFlBQVlELG1FQUFZQSxDQUFDRyxLQUFLSTtJQUNoQztJQUNBLE9BQU9OO0FBQ1Q7QUFFTyxNQUFNUSxXQUFXO0lBQ3RCLElBQUlDLFFBQU87UUFBRSxPQUFPUixvQkFBb0JRLElBQUk7SUFBRTtJQUM5QyxJQUFJQyxRQUFPO1FBQUUsT0FBT1Qsb0JBQW9CUyxJQUFJLENBQUNDLElBQUksQ0FBQ1Y7SUFBc0I7QUFDMUUsRUFBRTtBQUVGLCtDQUErQztBQUMvQyw2Q0FBNkM7QUFDN0MsK0NBQStDO0FBQy9DLCtDQUErQztBQUN4QyxTQUFTVztJQUNkLE1BQU1WLE1BQU1DLDBDQUFvQztJQUNoRCxNQUFNVSxhQUFhVixRQUFRQyxHQUFHLENBQUNVLHlCQUF5QjtJQUN4RCxJQUFJLENBQUNELFlBQVk7UUFDZkUsUUFBUUMsSUFBSSxDQUFDO1FBQ2IsT0FBT2Y7SUFDVDtJQUNBLE9BQU9GLG1FQUFZQSxDQUFDRyxLQUFLVyxZQUFZO1FBQ25DSixNQUFNO1lBQUVRLGtCQUFrQjtZQUFPQyxnQkFBZ0I7UUFBTTtJQUN6RDtBQUNGO0FBZ0JBLE1BQU1DLFVBQXdEO0lBQzVEQyxPQUFhO1FBQUVsQixLQUFLO1FBQTRCSSxLQUFLO0lBQXlCO0lBQzlFZSxVQUFhO1FBQUVuQixLQUFLO1FBQTZCSSxLQUFLO0lBQTRCO0lBQ2xGZ0IsYUFBYTtRQUFFcEIsS0FBSztRQUE2QkksS0FBSztJQUErQjtJQUNyRmlCLFdBQWE7UUFBRXJCLEtBQUs7UUFBNkJJLEtBQUs7SUFBNkI7QUFDckY7QUFFTyxTQUFTa0Isb0JBQW9CQyxJQUFZO0lBQzlDLE1BQU0sRUFBRXZCLEtBQUt3QixNQUFNLEVBQUVwQixLQUFLcUIsT0FBTyxFQUFFLEdBQUdSLE9BQU8sQ0FBQ00sS0FBSztJQUNuRCxNQUFNdkIsTUFBTUMsUUFBUUMsR0FBRyxDQUFDc0IsT0FBTztJQUMvQixNQUFNYixhQUFhVixRQUFRQyxHQUFHLENBQUN1QixRQUFRO0lBRXZDLElBQUl6QixPQUFPVyxZQUFZO1FBQ3JCLE9BQU9kLG1FQUFZQSxDQUFDRyxLQUFLVyxZQUFZO1lBQ25DSixNQUFNO2dCQUFFUSxrQkFBa0I7Z0JBQU9DLGdCQUFnQjtZQUFNO1FBQ3pEO0lBQ0Y7SUFFQSxxQ0FBcUM7SUFDckMsT0FBT047QUFDVDtBQUVPLE1BQU1nQix1QkFBdUIsQ0FBQyxDQUNuQ3pCLENBQUFBLEtBQW9DLElBQUlBLGtOQUF5QyxFQUNqRiIsInNvdXJjZXMiOlsiL1VzZXJzL3dpbGwvRG93bmxvYWRzL215c2hvcC5naXRodWIuaW8vYXBwcy9hZG1pbi9saWIvc3VwYWJhc2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50LCBTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQdWJsaWMgYW5vbiBjbGllbnQg4oCUIHJlc3BlY3RzIFJMU1xuLy8gU2FmZSBmb3IgY2xpZW50IGNvbXBvbmVudHMgYW5kIHB1YmxpYyByZWFkc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmxldCBfc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50IHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBhYmFzZUNsaWVudCgpOiBTdXBhYmFzZUNsaWVudCB7XG4gIGlmICghX3N1cGFiYXNlKSB7XG4gICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMITtcbiAgICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSE7XG4gICAgX3N1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHVybCwga2V5KTtcbiAgfVxuICByZXR1cm4gX3N1cGFiYXNlO1xufVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSB7XG4gIGdldCBhdXRoKCkgeyByZXR1cm4gZ2V0U3VwYWJhc2VDbGllbnQoKS5hdXRoOyB9LFxuICBnZXQgZnJvbSgpIHsgcmV0dXJuIGdldFN1cGFiYXNlQ2xpZW50KCkuZnJvbS5iaW5kKGdldFN1cGFiYXNlQ2xpZW50KCkpOyB9LFxufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1haW4gYWRtaW4gY2xpZW50IOKAlCBieXBhc3NlcyBSTFMgKG1haW4gREIpXG4vLyBPTkxZIHVzZSBpbiBBUEkgcm91dGUgaGFuZGxlcnMgKHNlcnZlci1zaWRlKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBZG1pbkNsaWVudCgpOiBTdXBhYmFzZUNsaWVudCB7XG4gIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XG4gIGNvbnN0IHNlcnZpY2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZO1xuICBpZiAoIXNlcnZpY2VLZXkpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tBZG1pbl0gU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSBub3Qgc2V0IOKAlCBmYWxsaW5nIGJhY2sgdG8gYW5vbiBrZXkuJyk7XG4gICAgcmV0dXJuIGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNsaWVudCh1cmwsIHNlcnZpY2VLZXksIHtcbiAgICBhdXRoOiB7IGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLCBwZXJzaXN0U2Vzc2lvbjogZmFsc2UgfSxcbiAgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOYW1lZCBhZG1pbiBjbGllbnQg4oCUIHBlciBkYXRhLXR5cGUgREIgc3VwcG9ydFxuLy9cbi8vIFByaW9yaXR5OlxuLy8gICAxLiBUeXBlLXNwZWNpZmljIGVudiB2YXJzICAoUE9TVFNfU1VQQUJBU0VfVVJMICsgUE9TVFNfU0VSVklDRV9ST0xFX0tFWSlcbi8vICAgMi4gRmFsbGJhY2sgdG8gbWFpbiBhZG1pbiBjbGllbnRcbi8vXG4vLyBUaGlzIGxldHMgeW91IGtlZXAgcG9zdHMsIHByb2R1Y3RzLCBzdWJzY3JpYmVycyxcbi8vIGFuZCBhbmFseXRpY3MgaW4gc2VwYXJhdGUgU3VwYWJhc2UgcHJvamVjdHMgZm9yXG4vLyBkYXRhIGlzb2xhdGlvbiwgd2hpbGUgZmFsbGluZyBiYWNrIHRvIHRoZSBtYWluIERCXG4vLyBpZiBhIHNlcGFyYXRlIHByb2plY3QgaXNuJ3QgY29uZmlndXJlZC5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG50eXBlIERiVHlwZSA9ICdwb3N0cycgfCAncHJvZHVjdHMnIHwgJ3N1YnNjcmliZXJzJyB8ICdhbmFseXRpY3MnO1xuXG5jb25zdCBFTlZfTUFQOiBSZWNvcmQ8RGJUeXBlLCB7IHVybDogc3RyaW5nOyBrZXk6IHN0cmluZyB9PiA9IHtcbiAgcG9zdHM6ICAgICAgIHsgdXJsOiAnUE9TVFNfU1VQQUJBU0VfVVJMJywgICAgICAga2V5OiAnUE9TVFNfU0VSVklDRV9ST0xFX0tFWScgfSxcbiAgcHJvZHVjdHM6ICAgIHsgdXJsOiAnUFJPRFVDVFNfU1VQQUJBU0VfVVJMJywgICAgIGtleTogJ1BST0RVQ1RTX1NFUlZJQ0VfUk9MRV9LRVknIH0sXG4gIHN1YnNjcmliZXJzOiB7IHVybDogJ1NVQlNDUklCRVJTX1NVUEFCQVNFX1VSTCcsICBrZXk6ICdTVUJTQ1JJQkVSU19TRVJWSUNFX1JPTEVfS0VZJyB9LFxuICBhbmFseXRpY3M6ICAgeyB1cmw6ICdBTkFMWVRJQ1NfU1VQQUJBU0VfVVJMJywgICAga2V5OiAnQU5BTFlUSUNTX1NFUlZJQ0VfUk9MRV9LRVknIH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZWRBZG1pbkNsaWVudCh0eXBlOiBEYlR5cGUpOiBTdXBhYmFzZUNsaWVudCB7XG4gIGNvbnN0IHsgdXJsOiB1cmxLZXksIGtleTogcm9sZUtleSB9ID0gRU5WX01BUFt0eXBlXTtcbiAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnZbdXJsS2V5XTtcbiAgY29uc3Qgc2VydmljZUtleSA9IHByb2Nlc3MuZW52W3JvbGVLZXldO1xuXG4gIGlmICh1cmwgJiYgc2VydmljZUtleSkge1xuICAgIHJldHVybiBjcmVhdGVDbGllbnQodXJsLCBzZXJ2aWNlS2V5LCB7XG4gICAgICBhdXRoOiB7IGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLCBwZXJzaXN0U2Vzc2lvbjogZmFsc2UgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZhbGwgYmFjayB0byB0aGUgbWFpbiBhZG1pbiBjbGllbnRcbiAgcmV0dXJuIGdldEFkbWluQ2xpZW50KCk7XG59XG5cbmV4cG9ydCBjb25zdCBpc1N1cGFiYXNlQ29uZmlndXJlZCA9ICEhKFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgJiYgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVlcbik7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEYXRhYmFzZSBSb3cgVHlwZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zdFJvdyB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHNsdWc6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZyB8IG51bGw7XG4gIGNvbnRlbnQ6IHN0cmluZyB8IG51bGw7XG4gIGltYWdlOiBzdHJpbmcgfCBudWxsO1xuICBjYXRlZ29yeTogJ01pbmRzZXQnIHwgJ1NraWxsc2V0JyB8ICdUb29sc2V0JyB8IG51bGw7XG4gIGFpX3Byb21wdDogc3RyaW5nIHwgbnVsbDtcbiAgcHVibGlzaGVkOiBib29sZWFuO1xuICByZWFkX3RpbWU6IHN0cmluZztcbiAgdmlld3M6IG51bWJlcjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdFJvdyB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsO1xuICBpbWFnZTogc3RyaW5nIHwgbnVsbDtcbiAgY2F0ZWdvcnk6ICdNaW5kc2V0JyB8ICdTa2lsbHNldCcgfCAnVG9vbHNldCcgfCBudWxsO1xuICBwcmljZTogc3RyaW5nIHwgbnVsbDtcbiAgb3JpZ2luYWxfcHJpY2U6IHN0cmluZyB8IG51bGw7XG4gIHN0cmlwZV9saW5rOiBzdHJpbmcgfCBudWxsO1xuICBhaV9wcm9tcHQ6IHN0cmluZyB8IG51bGw7XG4gIGFjdGl2ZTogYm9vbGVhbjtcbiAgc29ydF9vcmRlcjogbnVtYmVyO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJfc3VwYWJhc2UiLCJnZXRTdXBhYmFzZUNsaWVudCIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJrZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlIiwiYXV0aCIsImZyb20iLCJiaW5kIiwiZ2V0QWRtaW5DbGllbnQiLCJzZXJ2aWNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImNvbnNvbGUiLCJ3YXJuIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiRU5WX01BUCIsInBvc3RzIiwicHJvZHVjdHMiLCJzdWJzY3JpYmVycyIsImFuYWx5dGljcyIsImdldE5hbWVkQWRtaW5DbGllbnQiLCJ0eXBlIiwidXJsS2V5Iiwicm9sZUtleSIsImlzU3VwYWJhc2VDb25maWd1cmVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./lib/tenant.ts":
/*!***********************!*\
  !*** ./lib/tenant.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_TENANT: () => (/* binding */ DEFAULT_TENANT),\n/* harmony export */   notifyTenant: () => (/* binding */ notifyTenant),\n/* harmony export */   validateApiKey: () => (/* binding */ validateApiKey)\n/* harmony export */ });\n// ============================================\n// Tenant / API Key validation\n// Supports multiple client apps connecting to this admin service\n// ============================================\n// Default tenant (the owner of this admin instance)\nconst DEFAULT_TENANT = {\n    id: 'default',\n    name: 'Will Napolini',\n    slug: 'will-napolini',\n    api_key: process.env.ADMIN_API_KEY || '',\n    webhook_url: process.env.ADMIN_WEBHOOK_URL,\n    features: {\n        blog: true,\n        shop: true,\n        subscribers: true,\n        ai_assistant: true\n    },\n    branding: {\n        site_name: 'Will Napolini',\n        primary_color: '#28F29C'\n    },\n    is_active: true\n};\n/**\n * Validate an API key from an incoming request header.\n * Supports: \"Bearer sk_xxx\" or plain \"sk_xxx\" or \"X-Api-Key: sk_xxx\"\n *\n * TODO: In a full multi-tenant setup, replace the env-var check with a\n * DB lookup against a `tenants` table so each client app gets its own key.\n */ function validateApiKey(authHeader) {\n    if (!authHeader) return {\n        valid: false\n    };\n    const apiKey = authHeader.startsWith('Bearer ') ? authHeader.slice(7) : authHeader;\n    const configuredKey = process.env.ADMIN_API_KEY;\n    if (!configuredKey) {\n        console.warn('[API] ADMIN_API_KEY is not set — all public API requests will be rejected');\n        return {\n            valid: false\n        };\n    }\n    if (apiKey === configuredKey) {\n        return {\n            valid: true,\n            tenant: DEFAULT_TENANT\n        };\n    }\n    return {\n        valid: false\n    };\n}\n/**\n * Send a webhook notification to a tenant's registered webhook URL.\n */ async function notifyTenant(tenant, event, data) {\n    if (!tenant.webhook_url) return;\n    try {\n        await fetch(tenant.webhook_url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-Admin-Event': event,\n                'X-Admin-Tenant': tenant.id\n            },\n            body: JSON.stringify({\n                event,\n                tenant: tenant.id,\n                data,\n                timestamp: new Date().toISOString()\n            })\n        });\n    } catch (error) {\n        console.error(`[Webhook] Failed for tenant ${tenant.name}:`, error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdGVuYW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLCtDQUErQztBQUMvQyw4QkFBOEI7QUFDOUIsaUVBQWlFO0FBQ2pFLCtDQUErQztBQXNCL0Msb0RBQW9EO0FBQzdDLE1BQU1BLGlCQUF5QjtJQUNwQ0MsSUFBSTtJQUNKQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxhQUFhLElBQUk7SUFDdENDLGFBQWFILFFBQVFDLEdBQUcsQ0FBQ0csaUJBQWlCO0lBQzFDQyxVQUFVO1FBQ1JDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLGNBQWM7SUFDaEI7SUFDQUMsVUFBVTtRQUNSQyxXQUFXO1FBQ1hDLGVBQWU7SUFDakI7SUFDQUMsV0FBVztBQUNiLEVBQUU7QUFFRjs7Ozs7O0NBTUMsR0FDTSxTQUFTQyxlQUFlQyxVQUF5QjtJQUN0RCxJQUFJLENBQUNBLFlBQVksT0FBTztRQUFFQyxPQUFPO0lBQU07SUFFdkMsTUFBTUMsU0FBU0YsV0FBV0csVUFBVSxDQUFDLGFBQWFILFdBQVdJLEtBQUssQ0FBQyxLQUFLSjtJQUN4RSxNQUFNSyxnQkFBZ0JwQixRQUFRQyxHQUFHLENBQUNDLGFBQWE7SUFFL0MsSUFBSSxDQUFDa0IsZUFBZTtRQUNsQkMsUUFBUUMsSUFBSSxDQUFDO1FBQ2IsT0FBTztZQUFFTixPQUFPO1FBQU07SUFDeEI7SUFFQSxJQUFJQyxXQUFXRyxlQUFlO1FBQzVCLE9BQU87WUFBRUosT0FBTztZQUFNTyxRQUFRNUI7UUFBZTtJQUMvQztJQUVBLE9BQU87UUFBRXFCLE9BQU87SUFBTTtBQUN4QjtBQUVBOztDQUVDLEdBQ00sZUFBZVEsYUFDcEJELE1BQWMsRUFDZEUsS0FBYSxFQUNiQyxJQUE2QjtJQUU3QixJQUFJLENBQUNILE9BQU9wQixXQUFXLEVBQUU7SUFFekIsSUFBSTtRQUNGLE1BQU13QixNQUFNSixPQUFPcEIsV0FBVyxFQUFFO1lBQzlCeUIsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsaUJBQWlCSjtnQkFDakIsa0JBQWtCRixPQUFPM0IsRUFBRTtZQUM3QjtZQUNBa0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUFFUDtnQkFBT0YsUUFBUUEsT0FBTzNCLEVBQUU7Z0JBQUU4QjtnQkFBTU8sV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQUc7UUFDN0Y7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZGYsUUFBUWUsS0FBSyxDQUFDLENBQUMsNEJBQTRCLEVBQUViLE9BQU8xQixJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUV1QztJQUMvRDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvd2lsbC9Eb3dubG9hZHMvbXlzaG9wLmdpdGh1Yi5pby9hcHBzL2FkbWluL2xpYi90ZW5hbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRlbmFudCAvIEFQSSBLZXkgdmFsaWRhdGlvblxuLy8gU3VwcG9ydHMgbXVsdGlwbGUgY2xpZW50IGFwcHMgY29ubmVjdGluZyB0byB0aGlzIGFkbWluIHNlcnZpY2Vcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGVuYW50IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIGFwaV9rZXk6IHN0cmluZztcbiAgd2ViaG9va191cmw/OiBzdHJpbmc7XG4gIGZlYXR1cmVzOiB7XG4gICAgYmxvZzogYm9vbGVhbjtcbiAgICBzaG9wOiBib29sZWFuO1xuICAgIHN1YnNjcmliZXJzOiBib29sZWFuO1xuICAgIGFpX2Fzc2lzdGFudDogYm9vbGVhbjtcbiAgfTtcbiAgYnJhbmRpbmc6IHtcbiAgICBzaXRlX25hbWU6IHN0cmluZztcbiAgICBsb2dvX3VybD86IHN0cmluZztcbiAgICBwcmltYXJ5X2NvbG9yPzogc3RyaW5nO1xuICB9O1xuICBpc19hY3RpdmU6IGJvb2xlYW47XG59XG5cbi8vIERlZmF1bHQgdGVuYW50ICh0aGUgb3duZXIgb2YgdGhpcyBhZG1pbiBpbnN0YW5jZSlcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RFTkFOVDogVGVuYW50ID0ge1xuICBpZDogJ2RlZmF1bHQnLFxuICBuYW1lOiAnV2lsbCBOYXBvbGluaScsXG4gIHNsdWc6ICd3aWxsLW5hcG9saW5pJyxcbiAgYXBpX2tleTogcHJvY2Vzcy5lbnYuQURNSU5fQVBJX0tFWSB8fCAnJyxcbiAgd2ViaG9va191cmw6IHByb2Nlc3MuZW52LkFETUlOX1dFQkhPT0tfVVJMLFxuICBmZWF0dXJlczoge1xuICAgIGJsb2c6IHRydWUsXG4gICAgc2hvcDogdHJ1ZSxcbiAgICBzdWJzY3JpYmVyczogdHJ1ZSxcbiAgICBhaV9hc3Npc3RhbnQ6IHRydWUsXG4gIH0sXG4gIGJyYW5kaW5nOiB7XG4gICAgc2l0ZV9uYW1lOiAnV2lsbCBOYXBvbGluaScsXG4gICAgcHJpbWFyeV9jb2xvcjogJyMyOEYyOUMnLFxuICB9LFxuICBpc19hY3RpdmU6IHRydWUsXG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIGFuIEFQSSBrZXkgZnJvbSBhbiBpbmNvbWluZyByZXF1ZXN0IGhlYWRlci5cbiAqIFN1cHBvcnRzOiBcIkJlYXJlciBza194eHhcIiBvciBwbGFpbiBcInNrX3h4eFwiIG9yIFwiWC1BcGktS2V5OiBza194eHhcIlxuICpcbiAqIFRPRE86IEluIGEgZnVsbCBtdWx0aS10ZW5hbnQgc2V0dXAsIHJlcGxhY2UgdGhlIGVudi12YXIgY2hlY2sgd2l0aCBhXG4gKiBEQiBsb29rdXAgYWdhaW5zdCBhIGB0ZW5hbnRzYCB0YWJsZSBzbyBlYWNoIGNsaWVudCBhcHAgZ2V0cyBpdHMgb3duIGtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQXBpS2V5KGF1dGhIZWFkZXI6IHN0cmluZyB8IG51bGwpOiB7IHZhbGlkOiBib29sZWFuOyB0ZW5hbnQ/OiBUZW5hbnQgfSB7XG4gIGlmICghYXV0aEhlYWRlcikgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG5cbiAgY29uc3QgYXBpS2V5ID0gYXV0aEhlYWRlci5zdGFydHNXaXRoKCdCZWFyZXIgJykgPyBhdXRoSGVhZGVyLnNsaWNlKDcpIDogYXV0aEhlYWRlcjtcbiAgY29uc3QgY29uZmlndXJlZEtleSA9IHByb2Nlc3MuZW52LkFETUlOX0FQSV9LRVk7XG5cbiAgaWYgKCFjb25maWd1cmVkS2V5KSB7XG4gICAgY29uc29sZS53YXJuKCdbQVBJXSBBRE1JTl9BUElfS0VZIGlzIG5vdCBzZXQg4oCUIGFsbCBwdWJsaWMgQVBJIHJlcXVlc3RzIHdpbGwgYmUgcmVqZWN0ZWQnKTtcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgfVxuXG4gIGlmIChhcGlLZXkgPT09IGNvbmZpZ3VyZWRLZXkpIHtcbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgdGVuYW50OiBERUZBVUxUX1RFTkFOVCB9O1xuICB9XG5cbiAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG59XG5cbi8qKlxuICogU2VuZCBhIHdlYmhvb2sgbm90aWZpY2F0aW9uIHRvIGEgdGVuYW50J3MgcmVnaXN0ZXJlZCB3ZWJob29rIFVSTC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeVRlbmFudChcbiAgdGVuYW50OiBUZW5hbnQsXG4gIGV2ZW50OiBzdHJpbmcsXG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCF0ZW5hbnQud2ViaG9va191cmwpIHJldHVybjtcblxuICB0cnkge1xuICAgIGF3YWl0IGZldGNoKHRlbmFudC53ZWJob29rX3VybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdYLUFkbWluLUV2ZW50JzogZXZlbnQsXG4gICAgICAgICdYLUFkbWluLVRlbmFudCc6IHRlbmFudC5pZCxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGV2ZW50LCB0ZW5hbnQ6IHRlbmFudC5pZCwgZGF0YSwgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSksXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgW1dlYmhvb2tdIEZhaWxlZCBmb3IgdGVuYW50ICR7dGVuYW50Lm5hbWV9OmAsIGVycm9yKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkRFRkFVTFRfVEVOQU5UIiwiaWQiLCJuYW1lIiwic2x1ZyIsImFwaV9rZXkiLCJwcm9jZXNzIiwiZW52IiwiQURNSU5fQVBJX0tFWSIsIndlYmhvb2tfdXJsIiwiQURNSU5fV0VCSE9PS19VUkwiLCJmZWF0dXJlcyIsImJsb2ciLCJzaG9wIiwic3Vic2NyaWJlcnMiLCJhaV9hc3Npc3RhbnQiLCJicmFuZGluZyIsInNpdGVfbmFtZSIsInByaW1hcnlfY29sb3IiLCJpc19hY3RpdmUiLCJ2YWxpZGF0ZUFwaUtleSIsImF1dGhIZWFkZXIiLCJ2YWxpZCIsImFwaUtleSIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImNvbmZpZ3VyZWRLZXkiLCJjb25zb2xlIiwid2FybiIsInRlbmFudCIsIm5vdGlmeVRlbmFudCIsImV2ZW50IiwiZGF0YSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/tenant.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpublic%2Froute&page=%2Fapi%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpublic%2Froute&page=%2Fapi%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_will_Downloads_myshop_github_io_apps_admin_app_api_public_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/public/route.ts */ \"(rsc)/./app/api/public/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/public/route\",\n        pathname: \"/api/public\",\n        filename: \"route\",\n        bundlePath: \"app/api/public/route\"\n    },\n    resolvedPagePath: \"/Users/will/Downloads/myshop.github.io/apps/admin/app/api/public/route.ts\",\n    nextConfigOutput,\n    userland: _Users_will_Downloads_myshop_github_io_apps_admin_app_api_public_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwdWJsaWMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnB1YmxpYyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnB1YmxpYyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRndpbGwlMkZEb3dubG9hZHMlMkZteXNob3AuZ2l0aHViLmlvJTJGYXBwcyUyRmFkbWluJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRndpbGwlMkZEb3dubG9hZHMlMkZteXNob3AuZ2l0aHViLmlvJTJGYXBwcyUyRmFkbWluJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUN5QjtBQUN0RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3dpbGwvRG93bmxvYWRzL215c2hvcC5naXRodWIuaW8vYXBwcy9hZG1pbi9hcHAvYXBpL3B1YmxpYy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHVibGljL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHVibGljXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wdWJsaWMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvd2lsbC9Eb3dubG9hZHMvbXlzaG9wLmdpdGh1Yi5pby9hcHBzL2FkbWluL2FwcC9hcGkvcHVibGljL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpublic%2Froute&page=%2Fapi%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpublic%2Froute&page=%2Fapi%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fwill%2FDownloads%2Fmyshop.github.io%2Fapps%2Fadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();